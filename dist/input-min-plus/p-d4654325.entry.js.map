{"version":3,"names":["inputMinusPlusCss","InputMinusPlus","Infinity","watchPropHandler","newValue","oldValue","this","checkDisabled","value","componentWillLoad","changeNumber","sum","newNumber","number","step","max","inpluschange","emit","_input","less","min","disableMin","Boolean","disableMax","onInputChange","ev","target","render","h","Host","onClick","disabled","type","name","onChange","required"],"sources":["./src/components/input-min-plus/input-minus-plus.css?tag=input-minus-plus&encapsulation=shadow","./src/components/input-min-plus/input-minus-plus.tsx"],"sourcesContent":[":host {\n  display: inline-flex;\n  flex-wrap: nowrap;\n\n  height: 100%;\n  border: 1px solid silver;\n  border-radius: 1em;\n  overflow: hidden;\n}\n\n\ninput, button{\n  height: 100%;\n  margin: 0;\n  border: none;\n  text-align: center;\n}\n\nbutton{\n  min-width: 1.5em;\n}\n\ninput{\n  width: 3em;\n}\n","import { Component,Element, Host, h,  State, Prop,Event, EventEmitter, Watch } from '@stencil/core';\n\n@Component({\n  tag: 'input-minus-plus',\n  styleUrl: 'input-minus-plus.css',\n  shadow: true\n})\nexport class InputMinusPlus {\n\n  @Prop({mutable:true, reflect: true}) value? = null; \n  @Prop() min?: number = -Infinity; \n  @Prop() max?: number = Infinity; \n  @Prop() step?: number = 1; \n  @Prop() name?: string; \n  @Prop() required?: boolean = false; \n  \n  @State() number: number = 0;\n  @State() disableMin: boolean = false;\n  @State() disableMax: boolean = false;\n  \n\n  @Event() inpluschange:  EventEmitter<HTMLInputElement>\n\n\n  @Watch('number')\n  watchPropHandler(newValue: number, oldValue: number) {\n    if ( newValue != oldValue) {\n          this.checkDisabled()\n          this.value = newValue;\n    }\n  }\n\n  \n\n\n  @Element() el: HTMLElement;\n  _input: HTMLInputElement;\n\n\n\n  componentWillLoad(){\n    this.changeNumber( this.value * 1)\n  }\n\n  sum(){\n    const newNumber = this.number + this.step;\n    if ( newNumber <= this.max) {\n      this.number = newNumber\n      this.inpluschange.emit(this._input)\n    }\n  }\n\n  less(){\n    const newNumber = this.number - this.step;\n    if ( newNumber >= this.min) {\n      this.number = newNumber\n      this.inpluschange.emit(this._input)\n    }\n  }\n\n  checkDisabled() {\n    this.disableMin = Boolean( this.number == this.min)\n    this.disableMax = Boolean( this.number == this.max)\n  }\n\n  changeNumber(newNumber): true {\n    if ( newNumber < this.min) {\n      this.number = this.min\n    }\n\n    if ( newNumber > this.max) {\n      this.number = this.max\n    }\n\n    if ( !this.number && this.value ) {\n      this.number = this.value\n    }\n\n    return true;\n  }\n\n\n  onInputChange(ev){\n    this.changeNumber( ev.target.value * 1)\n    this.checkDisabled()\n  } \n\n\n\n  render() {\n    return (\n      <Host>\n        <button onClick={()=>this.less()} disabled={this.disableMin}>-</button>\n        <input type=\"text\" name={this.name} value={this.number} onChange={(ev) => this.onInputChange(ev)} required={this.required} />\n        <button onClick={()=>this.sum()} disabled={this.disableMax}>+</button>\n      </Host>\n    );\n  }\n\n}\n"],"mappings":"gEAAA,MAAMA,EAAoB,2N,MCObC,EAAc,M,+EAEqB,K,UACtBC,S,SACDA,S,UACC,E,kCAEK,M,YAEH,E,gBACK,M,gBACA,K,CAO/BC,iBAAiBC,EAAkBC,GACjC,GAAKD,GAAYC,EAAU,CACrBC,KAAKC,gBACLD,KAAKE,MAAQJ,C,EAYrBK,oBACEH,KAAKI,aAAcJ,KAAKE,MAAQ,E,CAGlCG,MACE,MAAMC,EAAYN,KAAKO,OAASP,KAAKQ,KACrC,GAAKF,GAAaN,KAAKS,IAAK,CAC1BT,KAAKO,OAASD,EACdN,KAAKU,aAAaC,KAAKX,KAAKY,O,EAIhCC,OACE,MAAMP,EAAYN,KAAKO,OAASP,KAAKQ,KACrC,GAAKF,GAAaN,KAAKc,IAAK,CAC1Bd,KAAKO,OAASD,EACdN,KAAKU,aAAaC,KAAKX,KAAKY,O,EAIhCX,gBACED,KAAKe,WAAaC,QAAShB,KAAKO,QAAUP,KAAKc,KAC/Cd,KAAKiB,WAAaD,QAAShB,KAAKO,QAAUP,KAAKS,I,CAGjDL,aAAaE,GACX,GAAKA,EAAYN,KAAKc,IAAK,CACzBd,KAAKO,OAASP,KAAKc,G,CAGrB,GAAKR,EAAYN,KAAKS,IAAK,CACzBT,KAAKO,OAASP,KAAKS,G,CAGrB,IAAMT,KAAKO,QAAUP,KAAKE,MAAQ,CAChCF,KAAKO,OAASP,KAAKE,K,CAGrB,OAAO,I,CAITgB,cAAcC,GACZnB,KAAKI,aAAce,EAAGC,OAAOlB,MAAQ,GACrCF,KAAKC,e,CAKPoB,SACE,OACEC,EAACC,EAAI,KACHD,EAAA,UAAQE,QAAS,IAAIxB,KAAKa,OAAQY,SAAUzB,KAAKe,YAAU,KAC3DO,EAAA,SAAOI,KAAK,OAAOC,KAAM3B,KAAK2B,KAAMzB,MAAOF,KAAKO,OAAQqB,SAAWT,GAAOnB,KAAKkB,cAAcC,GAAKU,SAAU7B,KAAK6B,WACjHP,EAAA,UAAQE,QAAS,IAAIxB,KAAKK,MAAOoB,SAAUzB,KAAKiB,YAAU,K"}